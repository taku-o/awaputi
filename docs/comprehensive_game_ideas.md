# 総合ゲーム拡張・改善アイデア

## 1. はじめに

このドキュメントは、既存のゲームルール (`rules/*.mdc`) とアイデア集 (`docs/game_enhancement_ideas.md`) を統合し、さらなる発展案を加えたものです。ゲームをより深く、長く楽しんでもらうための包括的なアイデアを提案します。

## 2. ゲームプレイの深化

### コンボシステムの強化

- **マルチコンボ**: 異なる種類の泡を連続で割る（例：普通の泡→硬い泡→トゲトゲ泡）と、通常より高いボーナス。
- **リスク＆リターンコンボ**: 毒の泡やビリビリの泡をコンボに組み込むと、ハイリスク・ハイリターンなスコアが得られる。
- **コンボ継続アイテム**: コンボが途切れても一度だけ継続できるアイテムを追加。

### 新しい泡の種類

- **おじゃま泡**: 画面に一定時間残り、タップ範囲を狭める。割ることはできないが、ドラッグで吹き飛ばせる。
- **分裂泡**: 割ると小さな泡に分裂する。小さな泡はスコアが低いが、まとめて割るとボーナス。
- **磁石泡**: 周囲の泡（良い泡も悪い泡も）を引き寄せる。戦略的に使うことで、大量スコアや危機回避が可能。
- **チェーン泡**: 割ると隣接する同色の泡が連鎖的に割れる。パズル要素が加わる。
- **お宝泡**: ごく稀に出現。割ると大量のAPや、未開放のアイテムが手に入ることがある。

### 環境・ステージギミック

- **天候**: ステージによって「風」「雨」「霧」などが発生。泡の動きが変化したり、視界が悪くなったりする。
- **時間帯**: 「夜」ステージでは、一部の泡が光り、見つけやすくなるなどの変化。
- **障害物**: 画面に破壊不可能な障害物が配置され、泡の軌道が変わる。

## 3. 新規ゲームモード

- **エンドレスモード**: HPが尽きるまで無限にプレイ。到達したレベルやスコアでランキングを競う。
- **パズルモード**: 決められた手数や種類の泡で、ステージ上の全ての泡を消すモード。
- **タイムアタックモード**: 特定のスコアに到達するまでの時間を競う。
- **協力プレイモード**: 2人（またはそれ以上）で協力し、一人では割れない巨大な「ワールドボス泡」に挑む。

## 4. プレイヤー成長とカスタマイズ

### 成長システム

- **スキルツリー**: APを消費してスキルを習得。「タップ範囲拡大」「HP自動回復」「特定色の泡のスコアアップ」など、プレイヤーが自分のスタイルに合わせて成長させられる。
- **レベルアップシステム**: `002_game.mdc`のアイデアを具体化。
    - **プレイヤーレベル (PLv)**: ゲームをプレイすることで経験値が貯まり、レベルアップ。基礎的な能力（HPの最大値、アイテムの効果時間など）が少しずつ上昇する。TAPとは別の永続的な成長要素。
    - **ステージレベル (SLv)**: ステージプレイ中にのみ有効なレベル。泡を割ることで経験値を得て、そのステージ中に限り「攻撃力アップ」「泡の出現速度ダウン」などの一時的な強化が得られる。

### アイテムシステムの拡張

- **アクティブアイテムとパッシブアイテム**:
    - **パッシブ**: 所持しているだけで効果がある（スコア倍率アップなど）。
    - **アクティブ**: `002_game.mdc`のアイデアをここに統合。ステージ中にプレイヤーが任意で使用するアイテム（例：「ハンマー」で硬い泡を一度で割る、「虫取り網」で危険な泡を無効化する）。アクティブアイテムは1ステージに持ち込める数に制限がある。
- **アイテム合成**: アイテムショップで特定のアイテム同士を組み合わせ、より強力な新しいアイテムを作成できる。

### カスタマイズ

- **泡のスキン**: 泡の見た目を変更。
- **背景テーマ**: ゲーム画面の背景を変更（海底、宇宙、森など）。
- **クリックエフェクト**: タップした時のエフェクトを変更。
- **BGM**: ゲーム中に流れる音楽を、入手した曲の中から選べる。

## 5. ソーシャル機能

- **フレンドシステム**: 友達登録とスコアの比較。
- **ギルド**: プレイヤー同士でチームを結成。ギルド対抗のイベントや、ギルドメンバー限定の協力プレイなどを実装。
- **非同期対戦**: 他のプレイヤーのプレイデータ（ゴースト）とスコアを競う。

## 6. UI/UX とサウンドの改善

- **フィードバック強化**: コンボ達成時やハイスコア更新時に、より派手で爽快感のある演出を追加。
- **アクセシビリティ**: 色覚サポート（泡に模様を追加）、タップ感度調整、片手プレイモードなど。
- **動的BGM**: ボーナスタイムやボス戦など、状況に応じてBGMがシームレスに変化し、没入感を高める。

## 7. 実装優先度の提案

### Step 1: コア体験の強化（最優先）
1.  **コンボシステムの強化**: 時間制限コンボや色別コンボを導入。
2.  **新しい泡の追加**: 「分裂泡」「チェーン泡」など、ゲームプレイに深みを加えるものを優先。
3.  **UI/UXの改善**: 視覚的なフィードバックを強化し、爽快感を向上させる。
4.  **エンドレスモード**: シンプルで繰り返し遊べるモードを追加。

### Step 2: 継続性の向上
1.  **プレイヤー成長システム**: まずはシンプルなレベルアップシステムを導入。
2.  **ソーシャル機能**: フレンドシステムとリーダーボードを実装。
3.  **カスタマイズ機能**: 泡のスキンや背景テーマなど、集める楽しみを追加。
4.  **季節イベント**: 定期的なイベントでユーザーの関心を維持。

### Step 3: 長期的な拡張
1.  **スキルツリー**: より複雑な成長要素を導入。
2.  **ギルド機能**: コミュニティ要素を強化。
3.  **新しいゲームモード**: パズルモードや協力プレイモードを追加。
4.  **革新的アイデア**: ARモードなどを検討。
