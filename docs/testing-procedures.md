# バブルポップゲーム - 動作確認手順書

## 概要

このドキュメントでは、バブルポップゲームの動作確認手順について説明します。リリース前やアップデート後の品質確認に使用してください。

## 事前準備

### テスト環境
- 複数のブラウザ（Chrome, Firefox, Safari, Edge）
- モバイルデバイス（iOS, Android）
- 異なる画面サイズ（デスクトップ、タブレット、スマートフォン）

### テストデータ
```bash
# テスト用のクリーンな状態でテスト
# ブラウザのローカルストレージをクリア
localStorage.clear()
```

## 基本機能テスト

### 1. 初回起動テスト

#### 1.1 初回アクセス
- [ ] ゲームが正常に読み込まれる
- [ ] ユーザー名登録画面が表示される
- [ ] ユーザー名を入力して登録できる
- [ ] メインメニューに遷移する

#### 1.2 エラーハンドリング
- [ ] 空のユーザー名で登録を試行→エラーメッセージが表示される
- [ ] 特殊文字を含むユーザー名→適切に処理される

### 2. メインメニューテスト

#### 2.1 基本表示
- [ ] メインメニューが正しく表示される
- [ ] ユーザー名が表示される
- [ ] 各ボタンが正しく配置される

#### 2.2 ナビゲーション
- [ ] 「ゲーム開始」→ステージ選択画面に遷移
- [ ] 「ユーザー情報」→ユーザー情報画面に遷移
- [ ] 「アイテムショップ」→ショップ画面に遷移
- [ ] 「設定」→設定画面に遷移

### 3. ステージ選択テスト

#### 3.1 初期状態
- [ ] 「1分ステージ」が選択可能
- [ ] 「普通のアワアワ」が選択可能
- [ ] その他のステージがロック状態

#### 3.2 ステージ開放
- [ ] 条件を満たすとステージが開放される
- [ ] 開放されたステージが選択可能になる

## ゲームプレイテスト

### 4. 基本ゲームプレイ

#### 4.1 ゲーム開始
- [ ] ステージを選択してゲームが開始される
- [ ] ゲーム画面が正しく表示される
- [ ] UI要素（スコア、HP、時間）が表示される

#### 4.2 泡の操作
- [ ] 泡をクリック/タップして割れる
- [ ] スコアが正しく加算される
- [ ] 泡が時間経過で成長する
- [ ] 泡が破裂してダメージを受ける

#### 4.3 ドラッグ操作
- [ ] 泡をドラッグして移動できる
- [ ] 画面端で跳ね返る
- [ ] 特定の泡が画面外で消滅する

### 5. 特殊泡テスト

#### 5.1 硬い泡
- [ ] 石の泡：2回クリックで割れる
- [ ] 鉄の泡：3回クリックで割れる
- [ ] ダイヤモンドの泡：5回クリックで割れる

#### 5.2 効果泡
- [ ] ピンクの泡：HPが回復する
- [ ] 毒の泡：HPが減少する
- [ ] 虹色の泡：ボーナスタイム発動
- [ ] 時計の泡：時間停止効果
- [ ] S字の泡：追加スコア獲得

#### 5.3 特殊挙動泡
- [ ] とげとげの泡：連鎖破壊が発生
- [ ] ビリビリの泡：画面揺れ・操作不能
- [ ] 逃げる泡：マウスから逃げる
- [ ] ひび割れの泡：早期破裂
- [ ] ボス泡：大型・高耐久

### 6. ゲームシステムテスト

#### 6.1 スコアシステム
- [ ] 基本スコアが正しく計算される
- [ ] 時間ボーナスが適用される
- [ ] コンボボーナスが発生する
- [ ] 特殊効果ボーナスが加算される

#### 6.2 HPシステム
- [ ] HPが正しく表示される
- [ ] ダメージでHPが減少する
- [ ] HP0でゲームオーバーになる
- [ ] ピンクの泡でHP回復する

#### 6.3 ゲームオーバー
- [ ] HP0でゲームオーバー
- [ ] 時間切れでゲームオーバー
- [ ] 最終スコアが表示される
- [ ] APとTAPが正しく加算される

## UI/UXテスト

### 7. レスポンシブデザイン

#### 7.1 デスクトップ（1920x1080）
- [ ] レイアウトが正しく表示される
- [ ] マウス操作が正常に動作する
- [ ] キーボードショートカットが機能する

#### 7.2 タブレット（768x1024）
- [ ] レイアウトが適切に調整される
- [ ] タッチ操作が正常に動作する
- [ ] UI要素のサイズが適切

#### 7.3 スマートフォン（375x667）
- [ ] レイアウトがモバイル向けに最適化される
- [ ] タッチ操作が快適に行える
- [ ] 文字サイズが読みやすい

### 8. アクセシビリティテスト

#### 8.1 キーボード操作
- [ ] Tabキーでフォーカス移動できる
- [ ] Enterキーで選択できる
- [ ] Escapeキーでキャンセルできる

#### 8.2 視覚的配慮
- [ ] 色覚異常者向けの配色
- [ ] 十分なコントラスト比
- [ ] 文字サイズの調整可能

## パフォーマンステスト

### 9. 動作性能

#### 9.1 フレームレート
- [ ] 60FPSを維持している
- [ ] 大量の泡表示時も滑らか
- [ ] 特殊効果時もパフォーマンス維持

#### 9.2 メモリ使用量
- [ ] 長時間プレイでメモリリークなし
- [ ] ガベージコレクションが適切に動作
- [ ] メモリ使用量が安定している

#### 9.3 読み込み時間
- [ ] 初回読み込みが3秒以内
- [ ] ステージ切り替えが1秒以内
- [ ] アセット読み込みが適切

## クロスブラウザテスト

### 10. ブラウザ別動作確認

#### 10.1 Chrome（最新版）
- [ ] 全機能が正常に動作する
- [ ] パフォーマンスが良好
- [ ] 音声が正常に再生される

#### 10.2 Firefox（最新版）
- [ ] 全機能が正常に動作する
- [ ] レイアウトが正しく表示される
- [ ] 音声が正常に再生される

#### 10.3 Safari（最新版）
- [ ] 全機能が正常に動作する
- [ ] iOS Safariでも動作する
- [ ] 音声が正常に再生される

#### 10.4 Edge（最新版）
- [ ] 全機能が正常に動作する
- [ ] レガシー機能も適切に動作
- [ ] 音声が正常に再生される

## データ永続化テスト

### 11. ローカルストレージ

#### 11.1 データ保存
- [ ] ユーザーデータが保存される
- [ ] ゲーム進行状況が保存される
- [ ] 設定が保存される

#### 11.2 データ読み込み
- [ ] ページリロード後もデータが保持される
- [ ] ブラウザ再起動後もデータが保持される
- [ ] 破損データの適切な処理

#### 11.3 データクリア
- [ ] データクリア機能が正常に動作する
- [ ] 確認ダイアログが表示される
- [ ] クリア後に初期状態に戻る

## 自動テスト実行

### 12. テストスイート実行

```bash
# 単体テスト実行
npm test

# 統合テスト実行
npm run test:integration

# E2Eテスト実行
npm run test:e2e

# パフォーマンステスト実行
npm run test:performance

# 全テスト実行
npm run test:all
```

### 13. テスト結果確認

#### 13.1 テストカバレッジ
- [ ] コードカバレッジが80%以上
- [ ] 重要な機能が100%カバーされている
- [ ] テスト結果レポートが生成される

#### 13.2 パフォーマンス指標
- [ ] Lighthouse スコアが90以上
- [ ] Core Web Vitals が良好
- [ ] バンドルサイズが適切

## 不具合報告

### 14. 不具合発見時の対応

#### 14.1 不具合の記録
- 発生環境（ブラウザ、OS、デバイス）
- 再現手順
- 期待される動作
- 実際の動作
- スクリーンショット/動画

#### 14.2 優先度の判定
- **Critical**: ゲームが起動しない、データ消失
- **High**: 主要機能が動作しない
- **Medium**: 一部機能に問題がある
- **Low**: 軽微な表示問題

## チェックリスト完了確認

### 15. 最終確認

- [ ] 全ての基本機能テストが完了
- [ ] 全てのゲームプレイテストが完了
- [ ] 全てのUI/UXテストが完了
- [ ] 全てのパフォーマンステストが完了
- [ ] 全てのクロスブラウザテストが完了
- [ ] 全ての自動テストが成功
- [ ] 発見された不具合が適切に対応済み

## 承認

テスト実施者: _________________ 日付: _________

テスト承認者: _________________ 日付: _________

## 関連ドキュメント

- [リリース手順書](./release-procedures.md)
- [開発環境セットアップ](./development-setup.md)
- [トラブルシューティングガイド](./troubleshooting.md)