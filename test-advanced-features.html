<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Internationalization Features Test - é«˜åº¦ãªå¤šè¨€èªå¯¾å¿œæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
            font-weight: 700;
        }

        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 30px;
            font-size: 1.2em;
        }

        .feature-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            border-left: 5px solid #e74c3c;
        }

        .feature-section h2 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.8em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .feature-section h3 {
            color: #34495e;
            margin: 20px 0 10px 0;
            font-size: 1.3em;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 5px;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
            align-items: center;
        }

        .controls label {
            font-weight: 600;
            color: #2c3e50;
            min-width: 120px;
        }

        .controls select, .controls input, .controls textarea {
            padding: 8px 12px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            min-width: 150px;
        }

        .controls select:focus, .controls input:focus, .controls textarea:focus {
            border-color: #e74c3c;
            outline: none;
        }

        .btn {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn.secondary {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
        }

        .btn.info {
            background: linear-gradient(135deg, #3498db, #2980b9);
        }

        .btn.success {
            background: linear-gradient(135deg, #27ae60, #229954);
        }

        .results {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            max-height: 400px;
            overflow-y: auto;
            margin-top: 15px;
            white-space: pre-wrap;
            line-height: 1.4;
        }

        .status {
            padding: 10px 15px;
            margin: 10px 0;
            border-radius: 6px;
            font-weight: 600;
        }

        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .status.info {
            background: #cce7ff;
            color: #004085;
            border: 1px solid #b3d7ff;
        }

        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid #ecf0f1;
            flex-wrap: wrap;
        }

        .tab {
            padding: 12px 20px;
            background: #ecf0f1;
            border: none;
            cursor: pointer;
            font-weight: 600;
            color: #7f8c8d;
            transition: all 0.3s ease;
            flex: 1;
            min-width: 150px;
        }

        .tab.active {
            background: #e74c3c;
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .demo-area {
            border: 2px dashed #bdc3c7;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            background: #f8f9fa;
            min-height: 150px;
        }

        .rtl-demo {
            direction: rtl;
            text-align: right;
            font-family: Arial, sans-serif;
        }

        .cultural-warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
        }

        .cultural-lucky-number {
            color: #27ae60;
            font-weight: bold;
            text-shadow: 0 0 2px #27ae6040;
        }

        .cultural-number-adapted::after {
            content: "ğŸ“";
            position: absolute;
            top: -5px;
            right: -5px;
            font-size: 10px;
            opacity: 0.7;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .stat-number {
            font-size: 2em;
            font-weight: 700;
            color: #e74c3c;
        }

        .stat-label {
            color: #7f8c8d;
            font-size: 0.9em;
            margin-top: 5px;
        }

        .example-text {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
        }

        .language-selector {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .language-option {
            padding: 8px 15px;
            background: #ecf0f1;
            border: 2px solid #bdc3c7;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .language-option.selected {
            background: #e74c3c;
            color: white;
            border-color: #c0392b;
        }

        .icon {
            font-size: 1.2em;
            margin-right: 5px;
        }

        .rtl-content {
            direction: rtl;
            text-align: right;
        }

        .ltr-content {
            direction: ltr;
            text-align: left;
        }

        /* Cultural adaptation styles */
        .culture-ar .cultural-lucky-number {
            color: #008000;
        }

        .culture-ja .cultural-lucky-number {
            color: #FFD700;
        }

        .culture-zh .cultural-lucky-number {
            color: #FF0000;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 20px;
            }
            
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .controls label {
                min-width: auto;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                flex: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ Advanced I18n Features</h1>
        <p class="subtitle">é«˜åº¦ãªå¤šè¨€èªå¯¾å¿œæ©Ÿèƒ½ - RTLè¨€èªãƒ»æ–‡åŒ–çš„é©å¿œãƒ»é«˜åº¦ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</p>

        <div class="tabs">
            <button class="tab active" onclick="showTab('rtl')">
                <span class="icon">ğŸ”„</span>RTLå¯¾å¿œ
            </button>
            <button class="tab" onclick="showTab('cultural')">
                <span class="icon">ğŸ›ï¸</span>æ–‡åŒ–çš„é©å¿œ
            </button>
            <button class="tab" onclick="showTab('formatting')">
                <span class="icon">ğŸ”§</span>é«˜åº¦ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
            </button>
            <button class="tab" onclick="showTab('components')">
                <span class="icon">ğŸ§©</span>RTLã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
            </button>
        </div>

        <!-- RTLå¯¾å¿œã‚¿ãƒ– -->
        <div id="rtl" class="tab-content active">
            <div class="feature-section">
                <h2><span class="icon">ğŸ”„</span>RTLè¨€èªæ¤œå‡ºãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½</h2>
                
                <h3>RTLè¨€èªæ¤œå‡º</h3>
                <div class="controls">
                    <label>ãƒ†ã‚¹ãƒˆè¨€èª:</label>
                    <select id="rtlLanguage">
                        <option value="ar">ã‚¢ãƒ©ãƒ“ã‚¢èª (ar)</option>
                        <option value="he">ãƒ˜ãƒ–ãƒ©ã‚¤èª (he)</option>
                        <option value="fa">ãƒšãƒ«ã‚·ãƒ£èª (fa)</option>
                        <option value="ur">ã‚¦ãƒ«ãƒ‰ã‚¥ãƒ¼èª (ur)</option>
                        <option value="ja">æ—¥æœ¬èª (ja)</option>
                        <option value="en">è‹±èª (en)</option>
                    </select>
                    
                    <label>ãƒ†ã‚¹ãƒˆãƒ†ã‚­ã‚¹ãƒˆ:</label>
                    <input type="text" id="rtlTestText" placeholder="RTLãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›" value="Ù…Ø±Ø­Ø¨Ø§ Ø¨Ùƒ">
                </div>

                <button class="btn" onclick="testRTLDetection()">
                    <span class="icon">ğŸ”</span>RTLæ¤œå‡ºãƒ†ã‚¹ãƒˆ
                </button>
                <button class="btn secondary" onclick="testTextDirection()">
                    <span class="icon">ğŸ“</span>ãƒ†ã‚­ã‚¹ãƒˆæ–¹å‘æ¤œå‡º
                </button>
                <button class="btn info" onclick="generateBidiText()">
                    <span class="icon">ğŸ”„</span>åŒæ–¹å‘ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ
                </button>

                <div class="demo-area" id="rtlDemoArea">
                    <p>RTLæ¤œå‡ºçµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</p>
                </div>

                <h3>RTLãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé©ç”¨</h3>
                <div class="controls">
                    <label>ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ–¹å‘:</label>
                    <select id="layoutDirection">
                        <option value="ltr">LTR (å·¦ã‹ã‚‰å³)</option>
                        <option value="rtl">RTL (å³ã‹ã‚‰å·¦)</option>
                    </select>
                    
                    <label>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¿ã‚¤ãƒ—:</label>
                    <select id="componentType">
                        <option value="generic">æ±ç”¨</option>
                        <option value="menu">ãƒ¡ãƒ‹ãƒ¥ãƒ¼</option>
                        <option value="navigation">ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³</option>
                        <option value="form">ãƒ•ã‚©ãƒ¼ãƒ </option>
                        <option value="dialog">ãƒ€ã‚¤ã‚¢ãƒ­ã‚°</option>
                    </select>
                </div>

                <button class="btn" onclick="applyRTLLayout()">
                    <span class="icon">âš¡</span>RTLãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé©ç”¨
                </button>
                <button class="btn secondary" onclick="generateRTLCSS()">
                    <span class="icon">ğŸ¨</span>RTL CSSç”Ÿæˆ
                </button>

                <div id="rtlResults" class="results"></div>
            </div>
        </div>

        <!-- æ–‡åŒ–çš„é©å¿œã‚¿ãƒ– -->
        <div id="cultural" class="tab-content">
            <div class="feature-section">
                <h2><span class="icon">ğŸ›ï¸</span>æ–‡åŒ–çš„é©å¿œã‚·ã‚¹ãƒ†ãƒ </h2>
                
                <h3>æ–‡åŒ–è¨­å®š</h3>
                <div class="language-selector">
                    <div class="language-option selected" data-culture="ja">
                        <span class="icon">ğŸ‡¯ğŸ‡µ</span>æ—¥æœ¬
                    </div>
                    <div class="language-option" data-culture="ar">
                        <span class="icon">ğŸ‡¦ğŸ‡ª</span>ã‚¢ãƒ©ãƒ“ã‚¢
                    </div>
                    <div class="language-option" data-culture="zh">
                        <span class="icon">ğŸ‡¨ğŸ‡³</span>ä¸­å›½
                    </div>
                    <div class="language-option" data-culture="ko">
                        <span class="icon">ğŸ‡°ğŸ‡·</span>éŸ“å›½
                    </div>
                    <div class="language-option" data-culture="en">
                        <span class="icon">ğŸ‡ºğŸ‡¸</span>è¥¿æ¬§
                    </div>
                </div>

                <h3>è‰²ã®æ–‡åŒ–çš„é©å¿œ</h3>
                <div class="controls">
                    <label>è‰²ã®ç”¨é€”:</label>
                    <select id="colorUsage">
                        <option value="general">ä¸€èˆ¬</option>
                        <option value="accent">ã‚¢ã‚¯ã‚»ãƒ³ãƒˆ</option>
                        <option value="important">é‡è¦</option>
                        <option value="background">èƒŒæ™¯</option>
                    </select>
                </div>

                <button class="btn" onclick="testColorAdaptation()">
                    <span class="icon">ğŸ¨</span>è‰²é©å¿œãƒ†ã‚¹ãƒˆ
                </button>
                <button class="btn secondary" onclick="testNumberAdaptation()">
                    <span class="icon">ğŸ”¢</span>æ•°å­—é©å¿œãƒ†ã‚¹ãƒˆ
                </button>
                <button class="btn info" onclick="testGestureAdaptation()">
                    <span class="icon">ğŸ‘‹</span>ã‚¸ã‚§ã‚¹ãƒãƒ£ãƒ¼é©å¿œãƒ†ã‚¹ãƒˆ
                </button>

                <div class="demo-area" id="culturalDemoArea">
                    <p>æ–‡åŒ–çš„é©å¿œã®ãƒ‡ãƒ¢ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</p>
                </div>

                <h3>ã‚¿ãƒ–ãƒ¼æ¤œè¨¼</h3>
                <div class="controls">
                    <label>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—:</label>
                    <select id="contentType">
                        <option value="general">ä¸€èˆ¬</option>
                        <option value="visual">è¦–è¦šçš„</option>
                        <option value="behavioral">è¡Œå‹•çš„</option>
                        <option value="interaction">ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³</option>
                    </select>
                    
                    <label>ãƒ†ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„:</label>
                    <textarea id="tabooTestContent" placeholder="ã‚¿ãƒ–ãƒ¼æ¤œè¨¼ç”¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å…¥åŠ›">æ•°å­—ã®4ã‚’å¼·èª¿ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚</textarea>
                </div>

                <button class="btn" onclick="validateTaboos()">
                    <span class="icon">âš ï¸</span>ã‚¿ãƒ–ãƒ¼æ¤œè¨¼å®Ÿè¡Œ
                </button>

                <div id="culturalResults" class="results"></div>
            </div>
        </div>

        <!-- é«˜åº¦ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¿ãƒ– -->
        <div id="formatting" class="tab-content">
            <div class="feature-section">
                <h2><span class="icon">ğŸ”§</span>é«˜åº¦ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ©Ÿèƒ½</h2>
                
                <h3>è¤‡æ•°å½¢å‡¦ç†</h3>
                <div class="controls">
                    <label>è¨€èª:</label>
                    <select id="pluralLanguage">
                        <option value="en">è‹±èª (2å½¢å¼)</option>
                        <option value="ar">ã‚¢ãƒ©ãƒ“ã‚¢èª (6å½¢å¼)</option>
                        <option value="ru">ãƒ­ã‚·ã‚¢èª (4å½¢å¼)</option>
                        <option value="ja">æ—¥æœ¬èª (1å½¢å¼)</option>
                    </select>
                    
                    <label>æ•°å€¤:</label>
                    <input type="number" id="pluralCount" value="5" min="0" max="1000">
                    
                    <label>ç¿»è¨³ã‚­ãƒ¼:</label>
                    <input type="text" id="pluralKey" value="item" placeholder="item, comment, etc.">
                </div>

                <button class="btn" onclick="testPluralFormatting()">
                    <span class="icon">ğŸ“Š</span>è¤‡æ•°å½¢ãƒ†ã‚¹ãƒˆ
                </button>
                <button class="btn secondary" onclick="testComplexPlurals()">
                    <span class="icon">ğŸ”¢</span>è¤‡é›‘ãªè¤‡æ•°å½¢ãƒ†ã‚¹ãƒˆ
                </button>

                <h3>æ–‡è„ˆä¾å­˜ç¿»è¨³</h3>
                <div class="controls">
                    <label>æ–‡è„ˆã‚¿ã‚¤ãƒ—:</label>
                    <select id="contextType">
                        <option value="politeness">æ•¬èªãƒ¬ãƒ™ãƒ« (æ—¥æœ¬èª)</option>
                        <option value="intimacy">è¦ªå¯†åº¦ (éŸ“å›½èª)</option>
                        <option value="gender">æ€§åˆ¥ (ã‚¢ãƒ©ãƒ“ã‚¢èª)</option>
                    </select>
                    
                    <label>æ–‡è„ˆå€¤:</label>
                    <select id="contextValue">
                        <option value="casual">ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«</option>
                        <option value="polite">ä¸å¯§</option>
                        <option value="formal">ãƒ•ã‚©ãƒ¼ãƒãƒ«</option>
                        <option value="honorific">æ•¬èª</option>
                    </select>
                </div>

                <button class="btn" onclick="testContextualTranslation()">
                    <span class="icon">ğŸ­</span>æ–‡è„ˆä¾å­˜ç¿»è¨³ãƒ†ã‚¹ãƒˆ
                </button>

                <h3>å‹•çš„ç¿»è¨³ç”Ÿæˆ</h3>
                <div class="controls">
                    <label>ç”Ÿæˆã‚¿ã‚¤ãƒ—:</label>
                    <select id="generationType">
                        <option value="number-expression">æ•°å€¤è¡¨ç¾</option>
                        <option value="time-expression">æ™‚é–“è¡¨ç¾</option>
                        <option value="comparison-expression">æ¯”è¼ƒè¡¨ç¾</option>
                    </select>
                    
                    <label>ãƒ‡ãƒ¼ã‚¿:</label>
                    <input type="text" id="generationData" placeholder="JSONå½¢å¼ã®ãƒ‡ãƒ¼ã‚¿" value='{"value": 1500000}'>
                </div>

                <button class="btn" onclick="testDynamicGeneration()">
                    <span class="icon">âš¡</span>å‹•çš„ç¿»è¨³ç”Ÿæˆãƒ†ã‚¹ãƒˆ
                </button>
                <button class="btn secondary" onclick="testComplexFormatting()">
                    <span class="icon">ğŸ”§</span>è¤‡åˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ†ã‚¹ãƒˆ
                </button>

                <h3>ç¿»è¨³ãƒ¡ãƒ¢ãƒª</h3>
                <div class="controls">
                    <label>æ¤œç´¢ã‚¯ã‚¨ãƒª:</label>
                    <input type="text" id="memoryQuery" placeholder="ç¿»è¨³ãƒ¡ãƒ¢ãƒªæ¤œç´¢" value="hello world">
                    
                    <label>è¨€èª:</label>
                    <select id="memoryLanguage">
                        <option value="ja">æ—¥æœ¬èª</option>
                        <option value="en">è‹±èª</option>
                        <option value="ar">ã‚¢ãƒ©ãƒ“ã‚¢èª</option>
                    </select>
                </div>

                <button class="btn info" onclick="searchTranslationMemory()">
                    <span class="icon">ğŸ”</span>ãƒ¡ãƒ¢ãƒªæ¤œç´¢
                </button>
                <button class="btn secondary" onclick="showMemoryStats()">
                    <span class="icon">ğŸ“Š</span>ãƒ¡ãƒ¢ãƒªçµ±è¨ˆ
                </button>

                <div id="formattingResults" class="results"></div>
            </div>
        </div>

        <!-- RTLã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¿ãƒ– -->
        <div id="components" class="tab-content">
            <div class="feature-section">
                <h2><span class="icon">ğŸ§©</span>RTLå¯¾å¿œUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</h2>
                
                <h3>å…¥åŠ›ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</h3>
                <div class="controls">
                    <label>è¨€èª:</label>
                    <select id="componentLanguage">
                        <option value="ar">ã‚¢ãƒ©ãƒ“ã‚¢èª</option>
                        <option value="he">ãƒ˜ãƒ–ãƒ©ã‚¤èª</option>
                        <option value="fa">ãƒšãƒ«ã‚·ãƒ£èª</option>
                        <option value="ur">ã‚¦ãƒ«ãƒ‰ã‚¥ãƒ¼èª</option>
                    </select>
                </div>

                <button class="btn" onclick="createRTLInput()">
                    <span class="icon">ğŸ“</span>RTLå…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä½œæˆ
                </button>
                <button class="btn" onclick="createRTLTextArea()">
                    <span class="icon">ğŸ“„</span>RTLãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ä½œæˆ
                </button>
                <button class="btn" onclick="createRTLSelect()">
                    <span class="icon">ğŸ“‹</span>RTLã‚»ãƒ¬ã‚¯ãƒˆä½œæˆ
                </button>

                <h3>ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</h3>
                <button class="btn secondary" onclick="createRTLMenu()">
                    <span class="icon">ğŸ”</span>RTLãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆ
                </button>
                <button class="btn secondary" onclick="createRTLNavigation()">
                    <span class="icon">ğŸ§­</span>RTLãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ
                </button>
                <button class="btn secondary" onclick="createRTLBreadcrumb()">
                    <span class="icon">ğŸ</span>RTLãƒ‘ãƒ³ããšä½œæˆ
                </button>

                <h3>UIè¦ç´ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</h3>
                <button class="btn info" onclick="createRTLDialog()">
                    <span class="icon">ğŸ’¬</span>RTLãƒ€ã‚¤ã‚¢ãƒ­ã‚°ä½œæˆ
                </button>
                <button class="btn info" onclick="createRTLPagination()">
                    <span class="icon">ğŸ“–</span>RTLãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ
                </button>
                <button class="btn info" onclick="createRTLDropdown()">
                    <span class="icon">â¬‡ï¸</span>RTLãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ä½œæˆ
                </button>

                <div class="demo-area" id="componentDemoArea">
                    <p>RTLã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</p>
                </div>

                <div id="componentResults" class="results"></div>
            </div>
        </div>
    </div>

    <!-- çµ±è¨ˆè¡¨ç¤º -->
    <div class="container">
        <h2><span class="icon">ğŸ“Š</span>é«˜åº¦æ©Ÿèƒ½çµ±è¨ˆ</h2>
        <div class="stats-grid" id="statsGrid">
            <div class="stat-card">
                <div class="stat-number" id="rtlDetections">0</div>
                <div class="stat-label">RTLæ¤œå‡ºå›æ•°</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="culturalAdaptations">0</div>
                <div class="stat-label">æ–‡åŒ–çš„é©å¿œå›æ•°</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="pluralFormattings">0</div>
                <div class="stat-label">è¤‡æ•°å½¢å‡¦ç†å›æ•°</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="contextualTranslations">0</div>
                <div class="stat-label">æ–‡è„ˆä¾å­˜ç¿»è¨³å›æ•°</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="dynamicGenerations">0</div>
                <div class="stat-label">å‹•çš„ç”Ÿæˆå›æ•°</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="componentsCreated">0</div>
                <div class="stat-label">ä½œæˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ•°</div>
            </div>
        </div>
    </div>

    <script type="module">
        import { getRTLLanguageDetector } from './src/core/i18n/rtl/RTLLanguageDetector.js';
        import { getRTLLayoutManager } from './src/core/i18n/rtl/RTLLayoutManager.js';
        import { getRTLUIComponents } from './src/core/i18n/rtl/RTLUIComponents.js';
        import { getCulturalAdaptationSystem } from './src/core/i18n/cultural/CulturalAdaptationSystem.js';
        import { getAdvancedFormatterEngine } from './src/core/i18n/advanced/AdvancedFormatterEngine.js';

        // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
        let rtlDetector, rtlLayoutManager, rtlUIComponents, culturalSystem, formatterEngine;
        let currentCulture = 'ja';
        let statistics = {
            rtlDetections: 0,
            culturalAdaptations: 0,
            pluralFormattings: 0,
            contextualTranslations: 0,
            dynamicGenerations: 0,
            componentsCreated: 0
        };

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                rtlDetector = getRTLLanguageDetector();
                rtlLayoutManager = getRTLLayoutManager();
                rtlUIComponents = getRTLUIComponents();
                culturalSystem = getCulturalAdaptationSystem();
                formatterEngine = getAdvancedFormatterEngine();
                
                setupEventListeners();
                updateStatistics();
                showStatus('é«˜åº¦ãªå¤šè¨€èªå¯¾å¿œæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆãŒåˆæœŸåŒ–ã•ã‚Œã¾ã—ãŸ', 'success');
            } catch (error) {
                console.error('Initialization error:', error);
                showStatus(`åˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        });

        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¨­å®š
        function setupEventListeners() {
            // æ–‡åŒ–é¸æŠ
            document.querySelectorAll('.language-option').forEach(option => {
                option.addEventListener('click', (e) => {
                    document.querySelectorAll('.language-option').forEach(opt => opt.classList.remove('selected'));
                    e.currentTarget.classList.add('selected');
                    currentCulture = e.currentTarget.dataset.culture;
                    culturalSystem.setCulturalAdaptation(currentCulture);
                    showStatus(`æ–‡åŒ–è¨­å®šã‚’${currentCulture}ã«å¤‰æ›´ã—ã¾ã—ãŸ`, 'info');
                });
            });
        }

        // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
        window.showTab = function(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            document.querySelector(`[onclick="showTab('${tabName}')"]`).classList.add('active');
            document.getElementById(tabName).classList.add('active');
        };

        // RTLæ¤œå‡ºæ©Ÿèƒ½
        window.testRTLDetection = function() {
            const language = document.getElementById('rtlLanguage').value;
            const testText = document.getElementById('rtlTestText').value;
            
            try {
                const isRTL = rtlDetector.isRTLLanguage(language);
                const containsRTL = rtlDetector.containsRTLCharacters(testText);
                const languageInfo = rtlDetector.getRTLLanguageInfo(language);
                
                const demoArea = document.getElementById('rtlDemoArea');
                demoArea.innerHTML = `
                    <div style="margin-bottom: 15px;">
                        <strong>æ¤œå‡ºçµæœ:</strong><br>
                        è¨€èª "${language}" ã¯RTL: <span style="color: ${isRTL ? 'green' : 'red'}">${isRTL ? 'ã¯ã„' : 'ã„ã„ãˆ'}</span><br>
                        ãƒ†ã‚­ã‚¹ãƒˆ "${testText}" ã«RTLæ–‡å­—ã‚’å«ã‚€: <span style="color: ${containsRTL ? 'green' : 'red'}">${containsRTL ? 'ã¯ã„' : 'ã„ã„ãˆ'}</span>
                    </div>
                    ${languageInfo ? `
                    <div style="margin-bottom: 15px;">
                        <strong>è¨€èªæƒ…å ±:</strong><br>
                        åå‰: ${languageInfo.name}<br>
                        æ–‡å­—ä½“ç³»: ${languageInfo.script}<br>
                        æ–¹å‘: ${languageInfo.direction}<br>
                        ãƒ•ã‚¡ãƒŸãƒªãƒ¼: ${languageInfo.family}
                    </div>
                    ` : ''}
                    <div class="${isRTL ? 'rtl-content' : 'ltr-content'}" style="border: 1px solid #ddd; padding: 10px; background: white;">
                        ${testText}
                    </div>
                `;
                
                statistics.rtlDetections++;
                updateStatistics();
                showStatus('RTLæ¤œå‡ºãƒ†ã‚¹ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸ', 'success');
                
            } catch (error) {
                console.error('RTL detection error:', error);
                showStatus(`RTLæ¤œå‡ºã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.testTextDirection = function() {
            const testText = document.getElementById('rtlTestText').value;
            
            try {
                const direction = rtlDetector.detectTextDirection(testText);
                
                displayResults('rtlResults', {
                    title: 'ãƒ†ã‚­ã‚¹ãƒˆæ–¹å‘æ¤œå‡ºçµæœ',
                    data: {
                        'ãƒ†ã‚­ã‚¹ãƒˆ': testText,
                        'æ¤œå‡ºæ–¹å‘': direction.direction,
                        'ä¿¡é ¼åº¦': `${(direction.confidence * 100).toFixed(1)}%`,
                        'RTLæ–‡å­—æ•°': direction.details.rtlChars,
                        'LTRæ–‡å­—æ•°': direction.details.ltrChars,
                        'ä¸­æ€§æ–‡å­—æ•°': direction.details.neutralChars,
                        'RTLæ–‡å­—æ¯”ç‡': `${(direction.details.rtlRatio * 100).toFixed(1)}%`
                    }
                });
                
                statistics.rtlDetections++;
                updateStatistics();
                showStatus('ãƒ†ã‚­ã‚¹ãƒˆæ–¹å‘æ¤œå‡ºãŒå®Œäº†ã—ã¾ã—ãŸ', 'success');
                
            } catch (error) {
                console.error('Text direction detection error:', error);
                showStatus(`ãƒ†ã‚­ã‚¹ãƒˆæ–¹å‘æ¤œå‡ºã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.generateBidiText = function() {
            try {
                const segments = [
                    { text: 'Hello', language: 'en', direction: 'ltr' },
                    { text: 'Ù…Ø±Ø­Ø¨Ø§', language: 'ar', direction: 'rtl' },
                    { text: 'World', language: 'en', direction: 'ltr' },
                    { text: 'Ø¹Ø§Ù„Ù…', language: 'ar', direction: 'rtl' }
                ];
                
                const result = rtlDetector.generateBidiText(segments);
                
                const demoArea = document.getElementById('rtlDemoArea');
                demoArea.innerHTML = `
                    <div style="margin-bottom: 15px;">
                        <strong>åŒæ–¹å‘ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆçµæœ:</strong><br>
                        RTLæ–‡å­—ã‚’å«ã‚€: <span style="color: ${result.hasRTL ? 'green' : 'red'}">${result.hasRTL ? 'ã¯ã„' : 'ã„ã„ãˆ'}</span>
                    </div>
                    <div style="border: 1px solid #ddd; padding: 10px; background: white; direction: ltr;">
                        <strong>ç”Ÿæˆã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆ:</strong><br>
                        ${result.text}
                    </div>
                    <div style="margin-top: 10px; font-size: 12px; color: #666;">
                        åŒæ–¹å‘åˆ¶å¾¡æ–‡å­—ãŒæŒ¿å…¥ã•ã‚Œã¦ã€æ­£ã—ã„è¡¨ç¤ºãŒä¿è¨¼ã•ã‚Œã¾ã™
                    </div>
                `;
                
                showStatus('åŒæ–¹å‘ãƒ†ã‚­ã‚¹ãƒˆç”ŸæˆãŒå®Œäº†ã—ã¾ã—ãŸ', 'success');
                
            } catch (error) {
                console.error('Bidi text generation error:', error);
                showStatus(`åŒæ–¹å‘ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        // RTLãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½
        window.applyRTLLayout = function() {
            const direction = document.getElementById('layoutDirection').value;
            const componentType = document.getElementById('componentType').value;
            
            try {
                rtlLayoutManager.setLayoutDirection(direction, direction === 'rtl' ? 'ar' : 'en');
                
                const demoArea = document.getElementById('rtlDemoArea');
                demoArea.style.direction = direction;
                demoArea.style.textAlign = direction === 'rtl' ? 'right' : 'left';
                
                rtlLayoutManager.applyRTLLayout(demoArea, {
                    componentType: componentType
                });
                
                displayResults('rtlResults', {
                    title: 'RTLãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé©ç”¨çµæœ',
                    data: {
                        'é©ç”¨æ–¹å‘': direction,
                        'ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¿ã‚¤ãƒ—': componentType,
                        'ç¾åœ¨ã®æ–¹å‘': rtlLayoutManager.getCurrentDirection(),
                        'ç¾åœ¨ã®è¨€èª': rtlLayoutManager.getCurrentLanguage() || 'æœªè¨­å®š'
                    }
                });
                
                showStatus(`${direction.toUpperCase()}ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒé©ç”¨ã•ã‚Œã¾ã—ãŸ`, 'success');
                
            } catch (error) {
                console.error('RTL layout application error:', error);
                showStatus(`RTLãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé©ç”¨ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.generateRTLCSS = function() {
            const language = document.getElementById('rtlLanguage').value;
            
            try {
                const rtlCSS = rtlDetector.generateRTLCSS(language, {
                    includeLayout: true,
                    includeTypography: true,
                    includeSpacing: true
                });
                
                displayResults('rtlResults', {
                    title: `${language} RTL CSSç”Ÿæˆçµæœ`,
                    data: {
                        'RTLè¨€èª': rtlCSS.isRTL ? 'ã¯ã„' : 'ã„ã„ãˆ',
                        'è¨€èª': rtlCSS.language || 'æœªå¯¾å¿œ',
                        'CSSé•·': `${rtlCSS.css.length} æ–‡å­—`
                    },
                    css: rtlCSS.css
                });
                
                showStatus('RTL CSSç”ŸæˆãŒå®Œäº†ã—ã¾ã—ãŸ', 'success');
                
            } catch (error) {
                console.error('RTL CSS generation error:', error);
                showStatus(`RTL CSSç”Ÿæˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        // æ–‡åŒ–çš„é©å¿œæ©Ÿèƒ½
        window.testColorAdaptation = function() {
            const colorUsage = document.getElementById('colorUsage').value;
            
            try {
                culturalSystem.setCulturalAdaptation(currentCulture);
                
                const demoArea = document.getElementById('culturalDemoArea');
                demoArea.innerHTML = `
                    <div style="background-color: #ff0000; color: white; padding: 10px; margin: 5px;">èµ¤è‰²ã®ãƒ†ã‚¹ãƒˆè¦ç´ </div>
                    <div style="background-color: #000000; color: white; padding: 10px; margin: 5px;">é»’è‰²ã®ãƒ†ã‚¹ãƒˆè¦ç´ </div>
                    <div style="background-color: #ffffff; color: black; padding: 10px; margin: 5px; border: 1px solid #ccc;">ç™½è‰²ã®ãƒ†ã‚¹ãƒˆè¦ç´ </div>
                    <div style="background-color: #008000; color: white; padding: 10px; margin: 5px;">ç·‘è‰²ã®ãƒ†ã‚¹ãƒˆè¦ç´ </div>
                `;
                
                // å„è¦ç´ ã«æ–‡åŒ–çš„é©å¿œã‚’é©ç”¨
                const elements = demoArea.children;
                let adaptedCount = 0;
                
                for (let element of elements) {
                    if (culturalSystem.adaptColors(element, colorUsage)) {
                        adaptedCount++;
                        element.classList.add('cultural-adapted');
                    }
                }
                
                displayResults('culturalResults', {
                    title: `${currentCulture} è‰²é©å¿œãƒ†ã‚¹ãƒˆçµæœ`,
                    data: {
                        'æ–‡åŒ–': currentCulture,
                        'è‰²ç”¨é€”': colorUsage,
                        'è¦ç´ æ•°': elements.length,
                        'é©å¿œè¦ç´ æ•°': adaptedCount,
                        'é©å¿œç‡': `${(adaptedCount / elements.length * 100).toFixed(1)}%`
                    }
                });
                
                statistics.culturalAdaptations += adaptedCount;
                updateStatistics();
                showStatus(`è‰²ã®æ–‡åŒ–çš„é©å¿œãŒå®Œäº†ã—ã¾ã—ãŸ (${adaptedCount}å€‹ã®è¦ç´ )`, 'success');
                
            } catch (error) {
                console.error('Color adaptation error:', error);
                showStatus(`è‰²é©å¿œã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.testNumberAdaptation = function() {
            try {
                culturalSystem.setCulturalAdaptation(currentCulture);
                
                const demoArea = document.getElementById('culturalDemoArea');
                demoArea.innerHTML = `
                    <div class="example-text">ãƒ¬ãƒ™ãƒ« 4 ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸï¼</div>
                    <div class="example-text">7ã¤ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’ç²å¾—</div>
                    <div class="example-text">ã‚¹ã‚³ã‚¢: 8888ç‚¹</div>
                    <div class="example-text">ã‚¹ãƒ†ãƒ¼ã‚¸ 13 ã«æŒ‘æˆ¦</div>
                    <div class="example-text">åˆè¨ˆ 9å›ã®ãƒãƒ£ãƒ¬ãƒ³ã‚¸</div>
                `;
                
                // å„è¦ç´ ã«æ•°å­—é©å¿œã‚’é©ç”¨
                const elements = demoArea.children;
                let adaptedCount = 0;
                
                for (let element of elements) {
                    if (culturalSystem.adaptNumbers(element)) {
                        adaptedCount++;
                    }
                }
                
                displayResults('culturalResults', {
                    title: `${currentCulture} æ•°å­—é©å¿œãƒ†ã‚¹ãƒˆçµæœ`,
                    data: {
                        'æ–‡åŒ–': currentCulture,
                        'è¦ç´ æ•°': elements.length,
                        'é©å¿œè¦ç´ æ•°': adaptedCount,
                        'é©å¿œå†…å®¹': 'ä¸å‰ãªæ•°å­—ã®ç½®æ›ã€å¹¸é‹ãªæ•°å­—ã®å¼·èª¿'
                    }
                });
                
                statistics.culturalAdaptations += adaptedCount;
                updateStatistics();
                showStatus(`æ•°å­—ã®æ–‡åŒ–çš„é©å¿œãŒå®Œäº†ã—ã¾ã—ãŸ`, 'success');
                
            } catch (error) {
                console.error('Number adaptation error:', error);
                showStatus(`æ•°å­—é©å¿œã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.testGestureAdaptation = function() {
            try {
                culturalSystem.setCulturalAdaptation(currentCulture);
                
                const demoArea = document.getElementById('culturalDemoArea');
                demoArea.innerHTML = `
                    <div class="example-text">ã„ã„ã­ï¼ <span data-gesture="thumbs-up">ğŸ‘</span></div>
                    <div class="example-text">OK <span data-gesture="ok-sign">ğŸ‘Œ</span></div>
                    <div class="example-text">ã“ã¡ã‚‰ã§ã™ <span data-gesture="pointing">ğŸ‘‰</span></div>
                    <div class="example-text">ã„ã‚‰ã£ã—ã‚ƒã„ <span data-gesture="beckoning">ğŸ‘‹</span></div>
                `;
                
                let adaptedCount = 0;
                if (culturalSystem.adaptGestures(demoArea)) {
                    adaptedCount++;
                }
                
                displayResults('culturalResults', {
                    title: `${currentCulture} ã‚¸ã‚§ã‚¹ãƒãƒ£ãƒ¼é©å¿œãƒ†ã‚¹ãƒˆçµæœ`,
                    data: {
                        'æ–‡åŒ–': currentCulture,
                        'é©å¿œå®Ÿè¡Œ': adaptedCount > 0 ? 'ã¯ã„' : 'ã„ã„ãˆ',
                        'ä¸é©åˆ‡ã‚¸ã‚§ã‚¹ãƒãƒ£ãƒ¼': 'æ–‡åŒ–ã«å¿œã˜ã¦æ¤œå‡ºãƒ»ç½®æ›',
                        'è­¦å‘Šè¡¨ç¤º': 'ä¸é©åˆ‡ãªå¯èƒ½æ€§ã®ã‚ã‚‹ã‚¸ã‚§ã‚¹ãƒãƒ£ãƒ¼ã«ãƒãƒ¼ã‚¯'
                    }
                });
                
                statistics.culturalAdaptations += adaptedCount;
                updateStatistics();
                showStatus(`ã‚¸ã‚§ã‚¹ãƒãƒ£ãƒ¼ã®æ–‡åŒ–çš„é©å¿œãŒå®Œäº†ã—ã¾ã—ãŸ`, 'success');
                
            } catch (error) {
                console.error('Gesture adaptation error:', error);
                showStatus(`ã‚¸ã‚§ã‚¹ãƒãƒ£ãƒ¼é©å¿œã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.validateTaboos = function() {
            const contentType = document.getElementById('contentType').value;
            const testContent = document.getElementById('tabooTestContent').value;
            
            try {
                culturalSystem.setCulturalAdaptation(currentCulture);
                const validation = culturalSystem.validateAgainstTaboos(testContent, contentType);
                
                displayResults('culturalResults', {
                    title: `${currentCulture} ã‚¿ãƒ–ãƒ¼æ¤œè¨¼çµæœ`,
                    data: {
                        'æ–‡åŒ–': validation.culture || currentCulture,
                        'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—': contentType,
                        'æ¤œè¨¼çµæœ': validation.valid ? 'é©åˆ‡' : 'å•é¡Œã‚ã‚Š',
                        'è­¦å‘Šæ•°': validation.warnings.length,
                        'ãƒ†ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„': testContent
                    },
                    warnings: validation.warnings
                });
                
                if (!validation.valid) {
                    const warningDiv = document.createElement('div');
                    warningDiv.className = 'cultural-warning';
                    warningDiv.innerHTML = `
                        <strong>âš ï¸ æ–‡åŒ–çš„ã‚¿ãƒ–ãƒ¼æ¤œå‡º:</strong><br>
                        ${validation.warnings.map(w => `â€¢ ${w.type}: ${w.suggestion}`).join('<br>')}
                    `;
                    document.getElementById('culturalDemoArea').appendChild(warningDiv);
                }
                
                showStatus(`ã‚¿ãƒ–ãƒ¼æ¤œè¨¼ãŒå®Œäº†ã—ã¾ã—ãŸ (${validation.warnings.length}å€‹ã®è­¦å‘Š)`, 
                          validation.valid ? 'success' : 'error');
                
            } catch (error) {
                console.error('Taboo validation error:', error);
                showStatus(`ã‚¿ãƒ–ãƒ¼æ¤œè¨¼ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        // é«˜åº¦ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ©Ÿèƒ½
        window.testPluralFormatting = function() {
            const language = document.getElementById('pluralLanguage').value;
            const count = parseInt(document.getElementById('pluralCount').value);
            const key = document.getElementById('pluralKey').value;
            
            try {
                const result = formatterEngine.formatPlural(key, count, language);
                
                // è¤‡æ•°ã®ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ†ã‚¹ãƒˆ
                const testCounts = [0, 1, 2, 3, 5, 11, 21, 100];
                const pluralTests = testCounts.map(testCount => ({
                    count: testCount,
                    result: formatterEngine.formatPlural(key, testCount, language)
                }));
                
                displayResults('formattingResults', {
                    title: `${language} è¤‡æ•°å½¢å‡¦ç†çµæœ`,
                    data: {
                        'è¨€èª': language,
                        'ã‚­ãƒ¼': key,
                        'å…¥åŠ›ã‚«ã‚¦ãƒ³ãƒˆ': count,
                        'çµæœ': result
                    },
                    pluralTests: pluralTests
                });
                
                statistics.pluralFormattings++;
                updateStatistics();
                showStatus('è¤‡æ•°å½¢å‡¦ç†ãƒ†ã‚¹ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸ', 'success');
                
            } catch (error) {
                console.error('Plural formatting error:', error);
                showStatus(`è¤‡æ•°å½¢å‡¦ç†ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.testComplexPlurals = function() {
            try {
                const languages = ['en', 'ar', 'ru'];
                const testCounts = [0, 1, 2, 3, 4, 5, 11, 21, 101];
                const results = {};
                
                languages.forEach(lang => {
                    results[lang] = testCounts.map(count => ({
                        count: count,
                        result: formatterEngine.formatPlural('item', count, lang)
                    }));
                });
                
                displayResults('formattingResults', {
                    title: 'è¤‡é›‘ãªè¤‡æ•°å½¢æ¯”è¼ƒãƒ†ã‚¹ãƒˆ',
                    complexPlurals: results
                });
                
                statistics.pluralFormattings += languages.length * testCounts.length;
                updateStatistics();
                showStatus('è¤‡é›‘ãªè¤‡æ•°å½¢ãƒ†ã‚¹ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸ', 'success');
                
            } catch (error) {
                console.error('Complex plural test error:', error);
                showStatus(`è¤‡é›‘ãªè¤‡æ•°å½¢ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.testContextualTranslation = function() {
            const contextType = document.getElementById('contextType').value;
            const contextValue = document.getElementById('contextValue').value;
            
            try {
                let language, key;
                
                switch (contextType) {
                    case 'politeness':
                        language = 'ja';
                        key = 'greeting.hello';
                        break;
                    case 'intimacy':
                        language = 'ko';
                        key = 'greeting.hello';
                        break;
                    case 'gender':
                        language = 'ar';
                        key = 'adjective.good';
                        break;
                    default:
                        language = 'ja';
                        key = 'greeting.hello';
                }
                
                const result = formatterEngine.formatContextual(key, contextValue, language);
                
                // å…¨ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¬ãƒ™ãƒ«ã§ãƒ†ã‚¹ãƒˆ
                const contextLevels = ['casual', 'polite', 'formal', 'honorific'];
                const contextTests = contextLevels.map(level => ({
                    context: level,
                    result: formatterEngine.formatContextual(key, level, language)
                }));
                
                displayResults('formattingResults', {
                    title: `${language} æ–‡è„ˆä¾å­˜ç¿»è¨³çµæœ`,
                    data: {
                        'è¨€èª': language,
                        'ã‚­ãƒ¼': key,
                        'ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¿ã‚¤ãƒ—': contextType,
                        'ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå€¤': contextValue,
                        'çµæœ': result
                    },
                    contextTests: contextTests
                });
                
                statistics.contextualTranslations++;
                updateStatistics();
                showStatus('æ–‡è„ˆä¾å­˜ç¿»è¨³ãƒ†ã‚¹ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸ', 'success');
                
            } catch (error) {
                console.error('Contextual translation error:', error);
                showStatus(`æ–‡è„ˆä¾å­˜ç¿»è¨³ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.testDynamicGeneration = function() {
            const generationType = document.getElementById('generationType').value;
            const dataStr = document.getElementById('generationData').value;
            
            try {
                const data = JSON.parse(dataStr);
                const languages = ['ja', 'en', 'ar'];
                const results = {};
                
                languages.forEach(lang => {
                    results[lang] = formatterEngine.generateDynamicTranslation(generationType, data, lang);
                });
                
                displayResults('formattingResults', {
                    title: `${generationType} å‹•çš„ç¿»è¨³ç”Ÿæˆçµæœ`,
                    data: {
                        'ç”Ÿæˆã‚¿ã‚¤ãƒ—': generationType,
                        'å…¥åŠ›ãƒ‡ãƒ¼ã‚¿': JSON.stringify(data),
                        'å¯¾è±¡è¨€èªæ•°': languages.length
                    },
                    dynamicResults: results
                });
                
                statistics.dynamicGenerations += languages.length;
                updateStatistics();
                showStatus('å‹•çš„ç¿»è¨³ç”Ÿæˆãƒ†ã‚¹ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸ', 'success');
                
            } catch (error) {
                console.error('Dynamic generation error:', error);
                showStatus(`å‹•çš„ç¿»è¨³ç”Ÿæˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.testComplexFormatting = function() {
            try {
                const pattern = '{count, plural, one {# item} other {# items}} in {category, select, electronics {Electronics} books {Books} other {General}} at {price, number, currency}';
                const data = {
                    count: 5,
                    category: 'electronics',
                    price: 1299.99
                };
                
                const result = formatterEngine.formatComplex(pattern, data, 'en');
                
                displayResults('formattingResults', {
                    title: 'è¤‡åˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå‡¦ç†çµæœ',
                    data: {
                        'ãƒ‘ã‚¿ãƒ¼ãƒ³': pattern,
                        'ãƒ‡ãƒ¼ã‚¿': JSON.stringify(data),
                        'çµæœ': result
                    }
                });
                
                showStatus('è¤‡åˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå‡¦ç†ãŒå®Œäº†ã—ã¾ã—ãŸ', 'success');
                
            } catch (error) {
                console.error('Complex formatting error:', error);
                showStatus(`è¤‡åˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå‡¦ç†ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.searchTranslationMemory = function() {
            const query = document.getElementById('memoryQuery').value;
            const language = document.getElementById('memoryLanguage').value;
            
            try {
                const results = formatterEngine.searchTranslationMemory(query, language, {
                    maxResults: 5,
                    minSimilarity: 0.5
                });
                
                displayResults('formattingResults', {
                    title: `ç¿»è¨³ãƒ¡ãƒ¢ãƒªæ¤œç´¢çµæœ (${language})`,
                    data: {
                        'ã‚¯ã‚¨ãƒª': query,
                        'è¨€èª': language,
                        'çµæœæ•°': results.length
                    },
                    memoryResults: results
                });
                
                showStatus(`ç¿»è¨³ãƒ¡ãƒ¢ãƒªæ¤œç´¢ãŒå®Œäº†ã—ã¾ã—ãŸ (${results.length}ä»¶)`, 'success');
                
            } catch (error) {
                console.error('Translation memory search error:', error);
                showStatus(`ç¿»è¨³ãƒ¡ãƒ¢ãƒªæ¤œç´¢ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.showMemoryStats = function() {
            try {
                const stats = formatterEngine.getStats();
                
                displayResults('formattingResults', {
                    title: 'ç¿»è¨³ãƒ¡ãƒ¢ãƒªçµ±è¨ˆ',
                    memoryStats: stats
                });
                
                showStatus('ç¿»è¨³ãƒ¡ãƒ¢ãƒªçµ±è¨ˆã‚’è¡¨ç¤ºã—ã¾ã—ãŸ', 'info');
                
            } catch (error) {
                console.error('Memory stats error:', error);
                showStatus(`ãƒ¡ãƒ¢ãƒªçµ±è¨ˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        // RTLã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ©Ÿèƒ½
        window.createRTLInput = function() {
            const language = document.getElementById('componentLanguage').value;
            
            try {
                const { component, componentId } = rtlUIComponents.createRTLComponent('input', {
                    type: 'text',
                    placeholder: 'RTLå…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰',
                    language: language,
                    autoDirection: true,
                    validateRTL: true
                });
                
                const demoArea = document.getElementById('componentDemoArea');
                demoArea.appendChild(component);
                
                displayResults('componentResults', {
                    title: 'RTLå…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä½œæˆçµæœ',
                    data: {
                        'ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆID': componentId,
                        'è¨€èª': language,
                        'è‡ªå‹•æ–¹å‘æ¤œå‡º': 'ã‚ã‚Š',
                        'RTLæ¤œè¨¼': 'ã‚ã‚Š'
                    }
                });
                
                statistics.componentsCreated++;
                updateStatistics();
                showStatus('RTLå…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒä½œæˆã•ã‚Œã¾ã—ãŸ', 'success');
                
            } catch (error) {
                console.error('RTL input creation error:', error);
                showStatus(`RTLå…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä½œæˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.createRTLTextArea = function() {
            const language = document.getElementById('componentLanguage').value;
            
            try {
                const { component, componentId } = rtlUIComponents.createRTLComponent('textarea', {
                    rows: 4,
                    placeholder: 'RTLãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢',
                    language: language,
                    autoResize: true
                });
                
                const demoArea = document.getElementById('componentDemoArea');
                demoArea.appendChild(component);
                
                displayResults('componentResults', {
                    title: 'RTLãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ä½œæˆçµæœ',
                    data: {
                        'ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆID': componentId,
                        'è¨€èª': language,
                        'è‡ªå‹•ãƒªã‚µã‚¤ã‚º': 'ã‚ã‚Š'
                    }
                });
                
                statistics.componentsCreated++;
                updateStatistics();
                showStatus('RTLãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ãŒä½œæˆã•ã‚Œã¾ã—ãŸ', 'success');
                
            } catch (error) {
                console.error('RTL textarea creation error:', error);
                showStatus(`RTLãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ä½œæˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.createRTLSelect = function() {
            const language = document.getElementById('componentLanguage').value;
            
            try {
                const { component, componentId } = rtlUIComponents.createRTLComponent('select', {
                    options: [
                        { value: 'option1', text: 'Ø®ÙŠØ§Ø± 1' },
                        { value: 'option2', text: 'Ø®ÙŠØ§Ø± 2' },
                        { value: 'option3', text: 'Ø®ÙŠØ§Ø± 3' }
                    ],
                    language: language
                });
                
                const demoArea = document.getElementById('componentDemoArea');
                demoArea.appendChild(component);
                
                displayResults('componentResults', {
                    title: 'RTLã‚»ãƒ¬ã‚¯ãƒˆä½œæˆçµæœ',
                    data: {
                        'ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆID': componentId,
                        'è¨€èª': language,
                        'ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ•°': 3
                    }
                });
                
                statistics.componentsCreated++;
                updateStatistics();
                showStatus('RTLã‚»ãƒ¬ã‚¯ãƒˆãŒä½œæˆã•ã‚Œã¾ã—ãŸ', 'success');
                
            } catch (error) {
                console.error('RTL select creation error:', error);
                showStatus(`RTLã‚»ãƒ¬ã‚¯ãƒˆä½œæˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.createRTLMenu = function() {
            const language = document.getElementById('componentLanguage').value;
            
            try {
                const { component, componentId } = rtlUIComponents.createRTLComponent('menu', {
                    items: [
                        'Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©',
                        'Ø­ÙˆÙ„',
                        'Ø§Ù„Ø®Ø¯Ù…Ø§Øª',
                        'Ø§ØªØµÙ„ Ø¨Ù†Ø§'
                    ],
                    orientation: 'vertical',
                    language: language
                });
                
                const demoArea = document.getElementById('componentDemoArea');
                demoArea.appendChild(component);
                
                displayResults('componentResults', {
                    title: 'RTLãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆçµæœ',
                    data: {
                        'ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆID': componentId,
                        'è¨€èª': language,
                        'æ–¹å‘': 'ç¸¦å‹',
                        'ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®æ•°': 4
                    }
                });
                
                statistics.componentsCreated++;
                updateStatistics();
                showStatus('RTLãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒä½œæˆã•ã‚Œã¾ã—ãŸ', 'success');
                
            } catch (error) {
                console.error('RTL menu creation error:', error);
                showStatus(`RTLãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.createRTLNavigation = function() {
            const language = document.getElementById('componentLanguage').value;
            
            try {
                const { component, componentId } = rtlUIComponents.createRTLComponent('navigation', {
                    links: [
                        { href: '#home', text: 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©', icon: 'fa-home' },
                        { href: '#about', text: 'Ø­ÙˆÙ„', icon: 'fa-info' },
                        { href: '#contact', text: 'Ø§ØªØµØ§Ù„', icon: 'fa-phone' }
                    ],
                    language: language,
                    showIcons: true
                });
                
                const demoArea = document.getElementById('componentDemoArea');
                demoArea.appendChild(component);
                
                displayResults('componentResults', {
                    title: 'RTLãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆçµæœ',
                    data: {
                        'ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆID': componentId,
                        'è¨€èª': language,
                        'ãƒªãƒ³ã‚¯æ•°': 3,
                        'ã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤º': 'ã‚ã‚Š'
                    }
                });
                
                statistics.componentsCreated++;
                updateStatistics();
                showStatus('RTLãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãŒä½œæˆã•ã‚Œã¾ã—ãŸ', 'success');
                
            } catch (error) {
                console.error('RTL navigation creation error:', error);
                showStatus(`RTLãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.createRTLBreadcrumb = function() {
            const language = document.getElementById('componentLanguage').value;
            
            try {
                const { component, componentId } = rtlUIComponents.createRTLComponent('breadcrumb', {
                    items: [
                        { text: 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©', href: '#home' },
                        { text: 'Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª', href: '#products' },
                        { text: 'Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª', href: '#electronics' },
                        { text: 'Ø§Ù„Ù‡ÙˆØ§ØªÙ Ø§Ù„Ø°ÙƒÙŠØ©' }
                    ],
                    separator: '/',
                    language: language
                });
                
                const demoArea = document.getElementById('componentDemoArea');
                demoArea.appendChild(component);
                
                displayResults('componentResults', {
                    title: 'RTLãƒ‘ãƒ³ããšä½œæˆçµæœ',
                    data: {
                        'ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆID': componentId,
                        'è¨€èª': language,
                        'ã‚¢ã‚¤ãƒ†ãƒ æ•°': 4,
                        'ã‚»ãƒ‘ãƒ¬ãƒ¼ã‚¿': '/',
                        'é †åº': 'RTLç”¨ã«é€†è»¢'
                    }
                });
                
                statistics.componentsCreated++;
                updateStatistics();
                showStatus('RTLãƒ‘ãƒ³ããšãŒä½œæˆã•ã‚Œã¾ã—ãŸ', 'success');
                
            } catch (error) {
                console.error('RTL breadcrumb creation error:', error);
                showStatus(`RTLãƒ‘ãƒ³ããšä½œæˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.createRTLDialog = function() {
            const language = document.getElementById('componentLanguage').value;
            
            try {
                const { component, componentId } = rtlUIComponents.createRTLComponent('dialog', {
                    title: 'ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©',
                    content: 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø±ØŸ',
                    buttons: [
                        { text: 'Ù…ÙˆØ§ÙÙ‚', type: 'primary', onClick: () => alert('Ù…ÙˆØ§ÙÙ‚') },
                        { text: 'Ø¥Ù„ØºØ§Ø¡', type: 'secondary', onClick: () => component.style.display = 'none' }
                    ],
                    language: language,
                    modal: true
                });
                
                component.style.display = 'block';
                component.style.position = 'relative';
                component.style.border = '1px solid #ddd';
                component.style.borderRadius = '8px';
                component.style.backgroundColor = 'white';
                component.style.maxWidth = '400px';
                
                const demoArea = document.getElementById('componentDemoArea');
                demoArea.appendChild(component);
                
                displayResults('componentResults', {
                    title: 'RTLãƒ€ã‚¤ã‚¢ãƒ­ã‚°ä½œæˆçµæœ',
                    data: {
                        'ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆID': componentId,
                        'è¨€èª': language,
                        'ãƒœã‚¿ãƒ³æ•°': 2,
                        'ãƒ¢ãƒ¼ãƒ€ãƒ«': 'ã‚ã‚Š'
                    }
                });
                
                statistics.componentsCreated++;
                updateStatistics();
                showStatus('RTLãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒä½œæˆã•ã‚Œã¾ã—ãŸ', 'success');
                
            } catch (error) {
                console.error('RTL dialog creation error:', error);
                showStatus(`RTLãƒ€ã‚¤ã‚¢ãƒ­ã‚°ä½œæˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.createRTLPagination = function() {
            const language = document.getElementById('componentLanguage').value;
            
            try {
                const { component, componentId } = rtlUIComponents.createRTLComponent('pagination', {
                    currentPage: 5,
                    totalPages: 20,
                    showFirstLast: true,
                    showPrevNext: true,
                    language: language
                });
                
                const demoArea = document.getElementById('componentDemoArea');
                demoArea.appendChild(component);
                
                displayResults('componentResults', {
                    title: 'RTLãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆçµæœ',
                    data: {
                        'ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆID': componentId,
                        'è¨€èª': language,
                        'ç¾åœ¨ãƒšãƒ¼ã‚¸': 5,
                        'ç·ãƒšãƒ¼ã‚¸æ•°': 20,
                        'ãƒšãƒ¼ã‚¸é †åº': 'RTLç”¨ã«é€†è»¢'
                    }
                });
                
                statistics.componentsCreated++;
                updateStatistics();
                showStatus('RTLãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãŒä½œæˆã•ã‚Œã¾ã—ãŸ', 'success');
                
            } catch (error) {
                console.error('RTL pagination creation error:', error);
                showStatus(`RTLãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        window.createRTLDropdown = function() {
            const language = document.getElementById('componentLanguage').value;
            
            try {
                const { component, componentId } = rtlUIComponents.createRTLComponent('dropdown', {
                    trigger: 'Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©',
                    items: [
                        { text: 'Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£ÙˆÙ„', href: '#option1' },
                        { text: 'Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ', href: '#option2' },
                        { text: 'Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù„Ø«', href: '#option3' }
                    ],
                    language: language
                });
                
                const demoArea = document.getElementById('componentDemoArea');
                demoArea.appendChild(component);
                
                displayResults('componentResults', {
                    title: 'RTLãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ä½œæˆçµæœ',
                    data: {
                        'ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆID': componentId,
                        'è¨€èª': language,
                        'ã‚¢ã‚¤ãƒ†ãƒ æ•°': 3,
                        'ãƒˆãƒªã‚¬ãƒ¼': 'Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©'
                    }
                });
                
                statistics.componentsCreated++;
                updateStatistics();
                showStatus('RTLãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãŒä½œæˆã•ã‚Œã¾ã—ãŸ', 'success');
                
            } catch (error) {
                console.error('RTL dropdown creation error:', error);
                showStatus(`RTLãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ä½œæˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };

        // ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
        function showStatus(message, type) {
            const existing = document.querySelector('.status');
            if (existing) existing.remove();
            
            const status = document.createElement('div');
            status.className = `status ${type}`;
            status.textContent = message;
            document.body.insertBefore(status, document.body.firstChild);
            
            setTimeout(() => status.remove(), 5000);
        }

        function displayResults(elementId, data) {
            const element = document.getElementById(elementId);
            let output = '';

            if (data.error) {
                output = `âŒ ã‚¨ãƒ©ãƒ¼: ${data.error}`;
            } else {
                if (data.title) {
                    output += `ğŸ“‹ ${data.title}\n${'='.repeat(50)}\n\n`;
                }
                
                if (data.data) {
                    output += 'ğŸ“Š åŸºæœ¬æƒ…å ±:\n';
                    for (const [key, value] of Object.entries(data.data)) {
                        output += `  ${key}: ${value}\n`;
                    }
                    output += '\n';
                }
                
                if (data.css) {
                    output += 'ğŸ¨ ç”ŸæˆCSS:\n';
                    output += data.css + '\n\n';
                }
                
                if (data.warnings) {
                    output += 'âš ï¸ è­¦å‘Š:\n';
                    data.warnings.forEach(warning => {
                        output += `  â€¢ ${warning.type} (${warning.severity}): ${warning.suggestion}\n`;
                    });
                    output += '\n';
                }
                
                if (data.pluralTests) {
                    output += 'ğŸ”¢ è¤‡æ•°å½¢ãƒ†ã‚¹ãƒˆ:\n';
                    data.pluralTests.forEach(test => {
                        output += `  ${test.count}: ${test.result}\n`;
                    });
                    output += '\n';
                }
                
                if (data.complexPlurals) {
                    output += 'ğŸŒ è¨€èªåˆ¥è¤‡æ•°å½¢æ¯”è¼ƒ:\n';
                    Object.entries(data.complexPlurals).forEach(([lang, tests]) => {
                        output += `  ${lang}:\n`;
                        tests.forEach(test => {
                            output += `    ${test.count}: ${test.result}\n`;
                        });
                    });
                    output += '\n';
                }
                
                if (data.contextTests) {
                    output += 'ğŸ­ æ–‡è„ˆãƒ¬ãƒ™ãƒ«æ¯”è¼ƒ:\n';
                    data.contextTests.forEach(test => {
                        output += `  ${test.context}: ${test.result}\n`;
                    });
                    output += '\n';
                }
                
                if (data.dynamicResults) {
                    output += 'âš¡ è¨€èªåˆ¥å‹•çš„ç”Ÿæˆçµæœ:\n';
                    Object.entries(data.dynamicResults).forEach(([lang, result]) => {
                        output += `  ${lang}: ${result}\n`;
                    });
                    output += '\n';
                }
                
                if (data.memoryResults) {
                    output += 'ğŸ’¾ ç¿»è¨³ãƒ¡ãƒ¢ãƒªæ¤œç´¢çµæœ:\n';
                    data.memoryResults.forEach((result, index) => {
                        output += `  ${index + 1}. é¡ä¼¼åº¦: ${(result.similarity * 100).toFixed(1)}%\n`;
                        output += `     åŸæ–‡: ${result.original}\n`;
                        output += `     ç¿»è¨³: ${result.translation}\n`;
                    });
                    output += '\n';
                }
                
                if (data.memoryStats) {
                    output += 'ğŸ“ˆ ç¿»è¨³ãƒ¡ãƒ¢ãƒªçµ±è¨ˆ:\n';
                    Object.entries(data.memoryStats).forEach(([key, value]) => {
                        output += `  ${key}: ${value}\n`;
                    });
                }
            }
            
            element.textContent = output;
        }

        function updateStatistics() {
            Object.entries(statistics).forEach(([key, value]) => {
                const element = document.getElementById(key);
                if (element) {
                    element.textContent = value;
                }
            });
        }
    </script>
</body>
</html>